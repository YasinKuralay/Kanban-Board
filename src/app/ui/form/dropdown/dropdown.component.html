@if (label !== "") {
  <label class="dropdown-label" id="uniqueId">{{ label }}</label>
}

<div
  class="dropdown"
  [class.open]="isOpen"
  (focusout)="handleFocusOutOnList($event)"
>
  <div
    #dropdownHeader
    class="dropdown-header"
    (click)="toggleDropdown()"
    (keydown)="handleKeydownOnHeader($event)"
    role="combobox"
    tabindex="0"
    [attr.aria-labelledby]="uniqueId"
  >
    {{
      selectedOptionIndex !== -1
        ? options[selectedOptionIndex]
        : "Select an option"
    }}
    <svg
      width="11"
      height="8"
      viewBox="0 0 11 8"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M0.79834 1.54858L5.49682 6.24707L10.1953 1.54858"
        stroke="#635FC7"
        stroke-width="2"
      />
    </svg>
  </div>

  @if (false) {
    <ul
      #dropdownList
      class="dropdown-list"
      role="listbox"
      [attr.aria-labelledby]="uniqueId"
    >
      @for (option of options; track option; let idx = $index) {
        <li
          class="dropdown-list-item"
          (click)="selectOption(idx)"
          (keydown)="handleKeydownOnListItem($event, idx)"
          role="option"
          [attr.aria-selected]="selectedOptionIndex === idx"
          tabindex="0"
        >
          {{ option }}
        </li>
      }
    </ul>
  }
</div>
